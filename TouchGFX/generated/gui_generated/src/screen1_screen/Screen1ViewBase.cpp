/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/screen1_screen/Screen1ViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>


Screen1ViewBase::Screen1ViewBase() :
    buttonCallback(this, &Screen1ViewBase::buttonCallbackHandler)
{

    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);

    __background.setPosition(0, 0, 240, 320);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));

    background2.setXY(0, -320);
    background2.setBitmap(touchgfx::Bitmap(BITMAP_TRACK4_ID));

    background1.setXY(0, 0);
    background1.setBitmap(touchgfx::Bitmap(BITMAP_TRACK4_ID));

    car.setBitmap(touchgfx::Bitmap(BITMAP_REDCAR_ID));
    car.setPosition(135, 259, 37, 53);
    car.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);

    obstacle_0.setXY(12, -125);
    obstacle_0.setBitmap(touchgfx::Bitmap(BITMAP_LAMB_ID));

    obstacle_1.setXY(12, -44);
    obstacle_1.setBitmap(touchgfx::Bitmap(BITMAP_LAMB_ID));

    obstacle_2.setXY(12, -84);
    obstacle_2.setBitmap(touchgfx::Bitmap(BITMAP_LAMB_ID));

    obstacle_3.setXY(200, -44);
    obstacle_3.setBitmap(touchgfx::Bitmap(BITMAP_LAMB_ID));

    obstacle_4.setXY(140, -44);
    obstacle_4.setBitmap(touchgfx::Bitmap(BITMAP_LAMB_ID));

    obstacle_5.setXY(78, -44);
    obstacle_5.setBitmap(touchgfx::Bitmap(BITMAP_LAMB_ID));

    obstacle_6.setXY(78, -82);
    obstacle_6.setBitmap(touchgfx::Bitmap(BITMAP_LAMB_ID));

    obstacle_7.setXY(140, -82);
    obstacle_7.setBitmap(touchgfx::Bitmap(BITMAP_LAMB_ID));

    obstacle_8.setXY(200, -82);
    obstacle_8.setBitmap(touchgfx::Bitmap(BITMAP_LAMB_ID));

    obstacle_9.setXY(200, -127);
    obstacle_9.setBitmap(touchgfx::Bitmap(BITMAP_LAMB_ID));

    obstacle_10.setXY(140, -125);
    obstacle_10.setBitmap(touchgfx::Bitmap(BITMAP_LAMB_ID));

    obstacle_11.setXY(78, -125);
    obstacle_11.setBitmap(touchgfx::Bitmap(BITMAP_LAMB_ID));

    bullet3.setPosition(320, 283, 8, 8);
    bullet3.setCenter(4, 4);
    bullet3.setRadius(4);
    bullet3.setLineWidth(0);
    bullet3.setArc(0, 360);
    bullet3Painter.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    bullet3.setPainter(bullet3Painter);

    bullet2.setPosition(320, 283, 8, 8);
    bullet2.setCenter(4, 4);
    bullet2.setRadius(4);
    bullet2.setLineWidth(0);
    bullet2.setArc(0, 360);
    bullet2Painter.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    bullet2.setPainter(bullet2Painter);

    bullet1.setPosition(320, 283, 8, 8);
    bullet1.setCenter(4, 4);
    bullet1.setRadius(4);
    bullet1.setLineWidth(0);
    bullet1.setArc(0, 360);
    bullet1Painter.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    bullet1.setPainter(bullet1Painter);

    bullet0.setPosition(320, 283, 8, 8);
    bullet0.setCenter(4, 4);
    bullet0.setRadius(4);
    bullet0.setLineWidth(0);
    bullet0.setArc(0, 360);
    bullet0Painter.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    bullet0.setPainter(bullet0Painter);

    line1.setPosition(122, 253, 60, 30);
    line1Painter.setColor(touchgfx::Color::getColorFromRGB(255, 0, 0));
    line1.setPainter(line1Painter);
    line1.setStart(30, 30);
    line1.setEnd(0, 0);
    line1.setLineWidth(2);
    line1.setLineEndingStyle(touchgfx::Line::ROUND_CAP_ENDING);

    textProgress1.setXY(11, 6);
    textProgress1.setProgressIndicatorPosition(0, 0, 54, 20);
    textProgress1.setRange(0, 100);
    textProgress1.setColor(touchgfx::Color::getColorFromRGB(51, 255, 0));
    textProgress1.setNumberOfDecimals(0);
    textProgress1.setTypedText(touchgfx::TypedText(T___SINGLEUSE_3VWX));
    textProgress1.setBackground(touchgfx::Bitmap(BITMAP_BLUE_PROGRESSINDICATORS_BG_SMALL_TEXT_PROGRESS_BG_ROUND_ID));
    textProgress1.setValue(60);

    textArea1.setXY(163, 6);
    textArea1.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea1.setLinespacing(0);
    textArea1.setTypedText(touchgfx::TypedText(T___SINGLEUSE_JFME));

    textArea2.setXY(83, 6);
    textArea2.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea2.setLinespacing(0);
    textArea2.setTypedText(touchgfx::TypedText(T___SINGLEUSE_A17J));

    exitButton.setXY(35, 425);
    exitButton.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_ROUND_EDGE_SMALL_ID), touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_ROUND_EDGE_SMALL_PRESSED_ID));
    exitButton.setLabelText(touchgfx::TypedText(T___SINGLEUSE_EFGJ));
    exitButton.setLabelColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    exitButton.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    exitButton.setAction(buttonCallback);

    retryButton.setXY(35, 348);
    retryButton.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_ROUND_EDGE_SMALL_ID), touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_ROUND_EDGE_SMALL_PRESSED_ID));
    retryButton.setLabelText(touchgfx::TypedText(T___SINGLEUSE_B6D5));
    retryButton.setLabelColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    retryButton.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    retryButton.setAction(buttonCallback);

    add(__background);
    add(background2);
    add(background1);
    add(car);
    add(obstacle_0);
    add(obstacle_1);
    add(obstacle_2);
    add(obstacle_3);
    add(obstacle_4);
    add(obstacle_5);
    add(obstacle_6);
    add(obstacle_7);
    add(obstacle_8);
    add(obstacle_9);
    add(obstacle_10);
    add(obstacle_11);
    add(bullet3);
    add(bullet2);
    add(bullet1);
    add(bullet0);
    add(line1);
    add(textProgress1);
    add(textArea1);
    add(textArea2);
    add(exitButton);
    add(retryButton);
}

void Screen1ViewBase::setupScreen()
{

}

void Screen1ViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &exitButton)
    {
        //exit
        //When exitButton clicked change screen to Menu
        //Go to Menu with no screen transition
        application().gotoMenuScreenNoTransition();
    }
    else if (&src == &retryButton)
    {
        //retry
        //When retryButton clicked change screen to Screen1
        //Go to Screen1 with no screen transition
        application().gotoScreen1ScreenNoTransition();
    }
}
